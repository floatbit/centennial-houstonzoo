$(document).foundation();var mainHandler={$menuOpenContainer:$menuOpenContainer=$(".menu-open-container"),$html:$html=$("html"),$menuItem:$menuItem=$(".menu-item"),$contentRight:$contentRight=$(".content-right"),$yourStoryContainer:$yourStoryContainer=$(".your-story-container"),$defaultContent:$defaultContent=$(".default-content"),$leftSection:$leftSection=$(".left-section"),$buttonBack:$buttonBack=$(".button-back"),openMenu:openMenu=function(e){this.$menuOpenContainer.toggleClass("active"),this.$html.toggleClass("disable-scroll"),this.$yourStoryContainer.removeClass("active"),this.$defaultContent.addClass("active"),this.$menuItem.addClass("active"),this.$leftSection.removeClass("hide-for-small-only"),this.$buttonBack.addClass("hide")},init:init=function(e){var t=this;t.$menuItem.on("click",function(e){e.stopPropagation();var i=this.getAttribute("data-id"),a=$(".menu-item[data-id="+i+"]");t.$menuItem.removeClass("active"),a.addClass("active")}),$('[href="#menu-open"]').on("click",function(e){e.preventDefault(),e.stopPropagation(),mainHandler.openMenu()}),$('[href="#share-your-story"]').on("click",function(e){e.preventDefault(),t.$menuOpenContainer.hasClass("active")||mainHandler.openMenu(),t.$contentRight.removeClass("active"),t.$yourStoryContainer.addClass("active"),t.$leftSection.addClass("hide-for-small-only"),t.$buttonBack.removeClass("hide")}),$("[href=#menu-open-back]").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.$menuItem.addClass("active"),t.$leftSection.removeClass("hide-for-small-only"),t.$contentRight.addClass("active"),t.$yourStoryContainer.removeClass("active"),t.$buttonBack.addClass("hide")})}},gfHandler={fieldName:fieldName="input_16",fieldPhone:fieldPhone="input_4",fieldEmail:fieldEmail="input_3",fieldVisit:fieldVisit="input_13",fieldVisitTime:fieldVisitTime="input_15",fieldZooMemory:fieldZooMemory="input_6",$input:$input=$(".ginput_container").find("input[type=text], input[type=email], input[type=tel], input[type=number]"),$fieldHidden:$fieldHidden=$("#field_1_12"),$fieldReview:$fieldReview=[],$htmlContainer:$htmlContainer='<li id="field_review"></li>',$htmlFileUpload:$htmlFileUpload='<li id="field_uploads"></li>',$fieldBeforeDynamic:$fieldBeforeDynamic=$("#field_1_20"),totalsItems:totalsItems=2,yearStart:yearStart=2e3,$htmlHasInputedFile:$htmlHasInputedFile=null,$selectIdentifier:$selectIdentifier=$(".ginput_container select"),$gformPageFooter:$gformPageFooter=$(".gform_body").find("#gform_previous_button_1"),templateUpload:templateUpload=function(){var e="",t="<option>Year</option>",i=(new Date).getFullYear()+1;for(let e=yearStart;e<i;e++)t+='<option value="'+e+'">'+e+"</option>";for(let i=0;i<totalsItems;i++)e+='<div class="uploads-item input '+(i>0?"hide":"")+'" data-id="'+i+'"><div class="grid-x grid-margin-x grid-input"><div class="cell small-7 input-field"><input type="file" class="input_file hide" id="input_file_'+i+'" data-id="'+i+'" name="file_upload[]" size="25" accept=".jpg,.png,.giv,.mov" /><label class="label-input" data-id="'+i+'" for="input_file_'+i+'">Upload file</label><span class="clear-img" data-id="'+i+'" ></span></div><div class="cell small-5 input-field-cmb"><select name="input_year[]" id="input_year_'+i+'" data-id="'+i+'" class="medium gfield_select select-year" aria-invalid="false">'+t+'</select></div></div><label class="gfield_label" for="input_caption_'+i+'">Add a caption</label><textarea name="input_caption[]" id="input_caption_'+i+'" data-id="'+i+'"  class="textarea textarea-uploads" tabindex="16" placeholder="50 words max" aria-invalid="false" rows="10" cols="50"></textarea>'+(i+1==totalsItems?"":'<a href="#show-next-item" class="button-plus fill"> <span class="button-label color-white hover-fill"> Add another photo or video </span></a>')+'<div class="review-container flex-container"><p class="file-label button-label color-dark-green" data-id="'+i+'"></p><div class="flex-container"><a href="#actions-button" class="button btn-act editmode" data-id="'+i+'" >EDIT</a><a href="#delete-item" class="button button-close" data-id="'+i+'" ></a></div></div></div>';return e},comboStyled:comboStyled=function(e=!1){$("body").find(".ginput_container select, .input-field select, .input-field-cmb select").each(function(){var t=$(this),i=$(this).children("option").length,a=t.attr("name");if(0==e){t.parent().parent().addClass(a),t.addClass("select-hidden"),t.wrap('<div class="select"></div>'),t.after('<div class="select-styled"></div>'),(d=t.next("div.select-styled")).text(t.children("option").eq(0).text());for(var n=$("<ul />",{class:"select-options"}).insertAfter(d),l=0;l<i;l++)t.children("option").eq(l).is(":selected")&&d.text(t.children("option").eq(l).text())}else{var d=t.next("div.select-styled");n=t.find(".select-options")}d.on("click",function(e){e.stopPropagation(),$("div.select-styled.active").not(this).each(function(){$(this).removeClass("active").next("ul.select-options").hide()});for(var a=$(this).closest(".select").find(".select-options").empty(),n=0;n<i;n++)if(""!==t.children("option").eq(n).text()){var l={text:t.children("option").eq(n).text(),rel:t.children("option").eq(n).val(),class:(t.children("option").eq(n).attr("disabled")?"disabled":"")+t.children("option").eq(n).val()};$("<li />",l).appendTo(a)}a.find("li").on("click",function(e){e.stopPropagation(),$(e.target).is(".disabled")||(d.removeClass("active"),t.val($(this).attr("rel")).trigger("change"),a.hide())}),$(this).toggleClass("active").next("ul.select-options").toggle()}),t.on("change",function(){var e=t.val();d.removeClass("selected");for(var a=0;a<i;a++)t.children("option").eq(a).attr("value")==e&&(d.text(t.children("option").eq(a).text()),t.children("option").eq(a).val()&&d.addClass("selected"))}),$(document).on("click",function(){d.removeClass("active"),n.hide()})})},clearItems:clearItems=function(e,t=!1){var i=$('.input_file[data-id="'+e+'"]'),a=$('.file-label[data-id="'+e+'"]'),n=$('.label-input[data-id="'+e+'"]');if(i.val(""),a.val(""),n.text("Upload file"),i.parent().removeClass("selected"),0==t){var l=$('.uploads-item[data-id="'+e+'"]'),d=$('.select-year[data-id="'+e+'"]'),o=$('.textarea-uploads[data-id="'+e+'"]');d.prop("selectedIndex",0),$(d.parent().find(".select-styled")).text("Year"),o.val(""),l.removeClass("selected"),l.addClass("input")}},inputHandler:inputHandler=function(e,t,i=!1){var a=parseInt(parseInt(e)+1),n=$('.file-label[data-id="'+e+'"]'),l=$('.label-input[data-id="'+e+'"]'),d=$('.uploads-item[data-id="'+e+'"]'),o=$(".uploads-item[data-id="+a+"]");n.text(a+".  "+t),l.text(t),l.parent().addClass("selected"),""===t||d.hasClass("edit")||i&&(d.addClass("selected"),d.removeClass("input"),o.removeClass("hide")),""==t&&(l.text("Upload file"),l.parent().removeClass("selected"))},init:init=function(e){var t=this,i="",a="",n="",l="",d="",o="";t.$fieldReview=t.$fieldHidden.after($htmlContainer).next(),t.$input.on("change, keyup",function(e){switch(this.name){case fieldName:i=this.value;break;case fieldEmail:a=this.value;break;case fieldPhone:n=this.value;break;case fieldVisit:l=this.value;break;case fieldVisitTime:d=this.value;break;case fieldZooMemory:o=this.value}}),t.comboStyled(),$(document).on("gform_post_render",function(e,s,r){var c=$("body").find("#field_1_12").after($htmlContainer).next(),p="";if(i&&(l&&d&&(p='<span class="">'+l+", "+d+"</span>"),c.append('<div class="form-input-text">'+i+p+"</div>")),c.append("<p>"+a+n?", ":n+"</p>"),c.append("<p>"+o+"</p>"),null!=t.$htmlHasInputedFile&&c.after().append(t.$htmlHasInputedFile[0]),null==t.$htmlHasInputedFile){var u=$("body").find("#field_1_20").after($htmlFileUpload).next(),f=t.templateUpload();u.append(f),t.comboStyled()}else{u=$("body").find("#field_uploads");t.comboStyled(!0)}(u.children().each(function(){console.log(this);var e=this.getAttribute("data-id"),i=$(' input.input_file[data-id="'+e+'"]').val().split("\\").pop();""!=i&&t.inputHandler(e,i,!0)}),u.find('[href="#show-next-item"]').on("click",function(e){e.preventDefault(),e.stopPropagation();var i=$(this).parents()[0].getAttribute("data-id"),a=$(' input.input_file[data-id="'+i+'"]').val().split("\\").pop();""==a?alert("Cannot add new item, fill current item first."):t.inputHandler(i,a,!0)}),u.find(".clear-img").on("click",function(e){var i=this.getAttribute("data-id");$(this).parent().removeClass("selected"),t.clearItems(i,!0),t.inputHandler(i,"")}),u.find('[href="#actions-button"]').on("click",function(e){e.preventDefault();var t=this.getAttribute("data-id"),i=$('.uploads-item[data-id="'+t+'"]');""==$(' input.input_file[data-id="'+t+'"]').val().split("\\").pop()?alert("File must be selected."):(i.toggleClass("edit"),i.toggleClass("selected"),i.hasClass("edit")?$(this).text("SAVE"):$(this).text("EDIT"))}),u.find('[href="#delete-item"]').on("click",function(e){e.preventDefault();var i=this.getAttribute("data-id");confirm("Delete Item ?")&&(t.clearItems(i),$(".uploads-item").removeClass("input"),$(".uploads-item").not('.selected, [data-id="'+i+'"]').addClass("hide"),$('.uploads-item[data-id="'+i+'"]').addClass("input"))}),u.find(" input.input_file ").on("change",function(){var e=$(this).val().split("\\").pop(),i=this.getAttribute("data-id");t.inputHandler(i,e)}),u.children().each(function(){var e=this.getAttribute("data-id"),i=$(this).children().children().children()[0],a=$(this).children().children().children()[1];$(i).on("change",function(a){var n=$('<div id="image-prev-'+e+'" class="gf-image-upload-preview"><div class="remove-button" title="Remove image"></div><img/></div>').appendTo(c),l=new FileReader;l.onload=function(e){n.find("img").attr("src",e.target.result)},l.readAsDataURL(i.files[0]),t.$htmlHasInputedFile=u}),$(a).on("change",function(e){t.$htmlHasInputedFile=u})}),null!=t.$htmlHasInputedFile)&&($("body").find("#field_1_20").after(t.$htmlHasInputedFile).next().children().each(function(e){var t=this.getAttribute("data-id"),i=parseInt(parseInt(t)+1),a=$('.input_file[data-id="'+t+'"]'),n=a.val().split("\\").pop();if(n){var l=$('.textarea-uploads[data-id="'+t+'"]').val(),d='<li class="item-review" data-id="'+t+'"><div class="review-container flex-container"><p class="file-label button-label color-dark-green" data-id="'+t+'" >'+i+".  "+n+'</p><div class="flex-container"><a href="#review-edit-button" class="button editmode" data-id="'+t+'" >EDIT</a><a href="#delete-item" class="button button-close" data-id="'+t+'" ></a></div></div><div class="image-container flex-container"><img src="" class="img-review" data-id="'+t+'" ><p class="" >'+l+"</p></div></li>",o=c.append(d),s=new FileReader;s.onload=function(e){o.find('.img-review[data-id="'+t+'"]').attr("src",e.target.result)},s.readAsDataURL(a[0].files[0])}}),c.find('[href="#review-edit-button"]').on("click",function(e){e.preventDefault(),e.stopPropagation();var t=this.getAttribute("data-id");$("#gform_target_page_number_1").val("3"),$("#gform_1").trigger("submit",[!0]),console.log(t),$($('.btn-act[data-id="'+t+'"]')[0]).click()}),c.find('[href="#delete-item"]').on("click",function(e){e.preventDefault();var i=this.getAttribute("data-id");confirm("Delete Item ?")&&(t.clearItems(i),$('.item-review[data-id="'+i+'"]').remove())}))})}};jQuery(document).ready(function(e){mainHandler.init(),gfHandler.init(),e(window).on("scroll",function(){e(window).scrollTop()>50?(e("header").addClass("scrolled"),e(".logo-white").addClass("hide"),e(".logo-black").removeClass("hide")):(e("header").removeClass("scrolled"),e(".logo-black").addClass("hide"),e(".logo-white").removeClass("hide"))}),e(window).on("resize, load",function(){e(".dynamic-content-container").children(".bg-image-content").each(function(){$content=e(this);var t=this.getAttribute("data-specified-id");$transPanel=e(".half-transparent-panel[data-specified-id="+t+"]");var i=parseFloat($content.css("padding-top")),a=parseFloat($content.css("padding-bottom")),n=parseFloat($content.height())+i+a;$transPanel.css({height:n+"px"})})}).trigger("resize"),e('iframe[src*="youtube.com"], iframe[src*="vimeo.com"]').each(function(){e(this).parent().addClass("responsive-embed widescreen")}),e(window).on("resize",function(){e(".debugger .column-width").html(e(".debugger .cell").eq(0).width()),e(".debugger .gutter-width").html(2*parseInt(e(".debugger .cell").eq(0).css("margin-left"))),e(".debugger .container-padding").html(2*parseInt(e(".debugger .grid-container").eq(0).css("padding-left")))}).trigger("resize"),e(".debugger").on("click",function(t){e(this).remove()})});
//# sourceMappingURL=main.min.js.map
