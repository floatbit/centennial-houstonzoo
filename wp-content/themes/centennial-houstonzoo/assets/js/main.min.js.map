{"version":3,"sources":["main.js"],"names":["$","document","foundation","mainHandler","$menuOpenContainer","$mainContentWrapper","$html","$body","$menuItem","$contentRight","$yourStoryContainer","$defaultContent","$leftSection","$buttonBack","$buttonInsideMenu","openMenu","e","self","this","find","length","toggleClass","removeClass","$innerOpenMenu","$innerInnerOpenMenu","$innerMenuHeader","innerMenuHeight","window","height","outerHeight","headerPadding","css","console","log","min-height","is","addClass","getScrollBarWidth","jQuery","padding-right","scrollBarWidth","setTimeout","each","hasClass","flickity","$outer","visibility","width","overflow","appendTo","widthWithScroll","outerWidth","remove","init","on","stopPropagation","selectedId","attr","$menuSelected","preventDefault","trigger","Foundation","MediaQuery","url","location","href","replace","reload","urlHash","hash","substring","eq","gfHandler","fieldName","fieldPhone","fieldEmail","$input","$fieldHidden","$fieldReview","$htmlContainer","$htmlFileUpload","$fieldBeforeDynamic","totalsItems","yearStart","$htmlHasInputedFile","$selectIdentifier","name","email","phone","templateUpload","$items","$years","i","Date","getFullYear","rearrangeData","index","$deletedObj","idx","children","$child","currID","data","text","parseInt","append","comboStyled","onlyFunction","$this","numberOfOptions","$name","parent","wrap","after","$styledSelect","next","$list","class","insertAfter","not","hide","$selectOptions","closest","empty","liProps","rel","val","target","toggle","currentValue","clearItems","id","file_only","$currInputFile","$currInputFileText","$labelInput","$uploadsItem","$selectedYear","$textareaUploads","prop","inputHandler","filename","showNextItem","nextID","$fileLabel","$nextItem","prepend","onChangeEvents","$obj","value","getFilename","tmpName","split","pop","file","files","totalSizeMb","undefined","size","Math","pow","toFixed","reRender","$rev","visits","conn","$zooMemory","zooMemory","str","words","lastIndex","lastIndexOf","visit","visitTime","$text","$uploads","getAttribute","parents","alert","confirm","$yearInput","$previewContainer","reader","FileReader","onload","result","readAsDataURL","count","caption","click","event","form_id","current_page","background","ready","myElement","querySelector","Headroom","offset","topTreshold","scrollTop","html"],"mappings":"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","sourcesContent":["$(document).foundation();\r\nvar mainHandler = {\r\n  $menuOpenContainer = $(\".menu-open-container\"),\r\n  $mainContentWrapper = $(\".main-content-wrapper\"),\r\n  $html = $(\"html\"),\r\n  $body = $('body'),\r\n  $menuItem = $(\".menu-item\"),\r\n  $contentRight = $('.content-right'), \r\n  $yourStoryContainer = $('.your-story-container'),\r\n  $defaultContent = $('.default-content'), \r\n  $leftSection = $('.left-section'),\r\n  $buttonBack = $('.button-back'),\r\n  $buttonInsideMenu = $('.button-inside-menu'),\r\n\r\n  openMenu = function(e){\r\n    var self = this;\r\n\r\n    var $obj = $('body').find('.headroom--not-top');\r\n    if ($obj.length > 0) {\r\n      this.$menuOpenContainer.toggleClass('logo-compact'); \r\n    } else {\r\n      this.$menuOpenContainer.removeClass('logo-compact');\r\n    }\r\n\r\n    this.$menuOpenContainer.toggleClass('active');\r\n    $('.logo-image-container').removeClass('logo-compressed');\r\n\r\n    // adjust menu open height so inner stuff is vertically aligned\r\n    var $innerOpenMenu = this.$menuOpenContainer.find('.header-container + .grid-container');\r\n    var $innerInnerOpenMenu = this.$menuOpenContainer.find('.menu-open-container-inner');\r\n    var $innerMenuHeader = this.$menuOpenContainer.find('.header-container');\r\n    var innerMenuHeight = ($(window).height() - $innerMenuHeader.outerHeight());\r\n    var headerPadding = $innerMenuHeader.css('padding-bottom');\r\n    console.log(headerPadding);\r\n    if (innerMenuHeight > this.$menuOpenContainer.find('.menu-container').height()) {\r\n      $innerInnerOpenMenu.css('padding-bottom', '0px');\r\n    } else {\r\n      $innerInnerOpenMenu.css('padding-bottom', headerPadding);\r\n    }\r\n\r\n    $innerOpenMenu.css({'min-height': 'calc('+innerMenuHeight+'px - '+headerPadding+')'});\r\n\r\n    if (this.$menuOpenContainer.is('.active')) {\r\n      this.$html.addClass('disable-scroll');\r\n      this.getScrollBarWidth();\r\n\t\t\tjQuery(\"body, header\").css({'padding-right': this.scrollBarWidth+'px'});\r\n    } else {\r\n      setTimeout(function() {\r\n        self.$html.removeClass('disable-scroll');\r\n        jQuery(\"body, header\").css({'padding-right': 0});  \r\n      }, 250);\r\n    }\r\n    this.$yourStoryContainer.removeClass('active');\r\n    this.$defaultContent.addClass('active');\r\n    \r\n    \r\n    this.$menuItem.each(function(){\r\n      $(this).removeClass('active');\r\n      if ($(this).hasClass('current')) {\r\n        $(this).addClass('active');\r\n      } else {\r\n        $(this).addClass('default');  \r\n      }\r\n    })\r\n\r\n    this.$leftSection.removeClass('show-for-large');\r\n    this.$buttonBack.addClass('hide');\r\n    if (this.$body.hasClass('modal--is-showing')) {\r\n      // menu modal is opened\r\n      this.$mainContentWrapper.removeClass('menu-opened');\r\n      $('.carousel-main').flickity('playPlayer');\r\n    } else {\r\n      // menu modal is closed\r\n      this.$mainContentWrapper.addClass('menu-opened');\r\n      $('.carousel-main').flickity('stopPlayer');\r\n    }\r\n    this.$body.toggleClass('modal--is-showing');\r\n  },\r\n\r\n\tscrollBarWidth: 17,\r\n\r\n\tgetScrollBarWidth: function() {\r\n\t\tvar $outer = $('<div>').css({visibility: 'hidden', width: 100, overflow: 'scroll'}).appendTo('body'),\r\n\t\t\t\twidthWithScroll = $('<div>').css({width: '100%'}).appendTo($outer).outerWidth();\r\n\t\t$outer.remove();\r\n\t\tthis.scrollBarWidth = 100 - widthWithScroll;\r\n\t},\r\n\r\n  init = function(e) {\r\n    var self = this;\r\n\r\n    this.$menuItem.on(\"click\", function(e){\r\n      e.stopPropagation();\r\n      var selectedId = $(this).attr('data-id');\r\n      var $menuSelected = $('.menu-item[data-id='+selectedId+']');\r\n\r\n      self.$menuItem.removeClass('default');\r\n      $menuSelected.addClass('active');     \r\n    });\r\n  \r\n    $('[href=\"#menu-open\"]').on(\"click\", function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      self.openMenu();\r\n    });\r\n\r\n    $('[href=\"#share-your-story\"]').on(\"click\", function(e) {\r\n      e.preventDefault();\r\n      if (!self.$menuOpenContainer.hasClass('active')) {\r\n        self.openMenu();\r\n      }\r\n      $('.menu-item[data-id=\"1\"]').trigger(\"click\");\r\n      self.$contentRight.removeClass('active');\r\n      self.$yourStoryContainer.addClass('active');\r\n      if (Foundation.MediaQuery.is('small')) {\r\n        $('.logo-image-container').addClass('logo-compressed');\r\n      }\r\n      self.$leftSection.addClass('show-for-large');      \r\n      self.$buttonBack.removeClass('hide');\r\n      self.$buttonInsideMenu.removeClass('hide-transparent');\r\n    });\r\n\r\n    $('body').on(\"click\", \"[href='#btn-reload-story-form']\", function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      var url = window.location.href.replace(/#[^#]*$/, \"\")+'#share-your-story';\r\n      window.location.href = url;\r\n      location.reload();\r\n      // window.location.href = window.location.href.replace(/#[^#]*$/, \"\");\r\n    });\r\n    \r\n    var urlHash = window.location.hash;\r\n\t\tif (urlHash) {\r\n      urlHash = urlHash.substring(1);\r\n      if (urlHash == 'share-your-story') {\r\n        $('[href=\"#share-your-story\"]').eq(0).trigger(\"click\");\r\n      }\r\n      \r\n    }\r\n\r\n    $('[href=#menu-open-back]').on(\"click\", function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      self.$menuItem.addClass('active');\r\n      self.$leftSection.removeClass('show-for-large');            \r\n      self.$contentRight.addClass('active');\r\n      self.$yourStoryContainer.removeClass('active');\r\n      $('.logo-image-container').removeClass('logo-compressed');\r\n      self.$buttonBack.addClass('hide');\r\n    })\r\n  }\r\n}\r\n\r\nvar gfHandler = {\r\n  fieldName = 'input_16',\r\n  fieldPhone = 'input_4',\r\n  fieldEmail = 'input_3',\r\n  $input = $('.ginput_container').find('input[type=text], input[type=email], input[type=tel], input[type=number], textarea[name=\"input_6\"]'),\r\n  $fieldHidden = $('#field_1_12'),\r\n  $fieldReview = [],\r\n  $htmlContainer = '<li id=\"field_review\"></li>',\r\n  $htmlFileUpload = '<li id=\"field_uploads\"></li>',\r\n  $fieldBeforeDynamic = $('#field_1_20'),\r\n  totalsItems = 10,\r\n  yearStart = 1922,\r\n  $htmlHasInputedFile = null,\r\n  $selectIdentifier = $('.ginput_container select'),\r\n  name = '', email = '', phone = '', \r\n\r\n  templateUpload = function(){\r\n    var $items = '';\r\n    var $years = '<option>Year</option>';\r\n    var currentYear = new Date().getFullYear() ;\r\n\r\n    for (let i = currentYear; i >= yearStart; i--) {\r\n      $years += '<option value=\"'+i+'\">'+i+'</option>';      \r\n    }\r\n\r\n    for (let i = 0; i < totalsItems; i++) {  \r\n      $items += \r\n      '<div class=\"uploads-item input '+((i>0) ? 'hide': '')+'\" data-id=\"'+i+'\">'+\r\n        '<div class=\"grid-x grid-input\">'+\r\n          '<div class=\"cell small-9 input-field\">'+\r\n            '<input type=\"file\" class=\"input_file hide\" id=\"input_file_'+i+'\" data-id=\"'+i+'\" name=\"file_upload[]\" size=\"25\" accept=\".jpg,.png,.giv,.mov\" />'+\r\n            '<label class=\"label-input\" data-id=\"'+i+'\" for=\"input_file_'+i+'\">Upload file</label>'+\r\n            '<span class=\"clear-img\" data-id=\"'+i+'\" ></span>'+\r\n          '</div>'+\r\n          '<div class=\"cell small-5 input-field-cmb\">'+\r\n            '<select name=\"input_year[]\" id=\"input_year_'+i+'\" data-id=\"'+i+'\" class=\"medium gfield_select select-year\" aria-invalid=\"false\">'+\r\n              $years+\r\n            '</select>'+\r\n          '</div>'+\r\n        '</div>'+\r\n        '<label class=\"gfield_label\" for=\"input_caption_'+i+'\">Add a caption</label>'+\r\n        '<textarea name=\"input_caption[]\" id=\"input_caption_'+i+'\" data-id=\"'+i+'\"  class=\"textarea textarea-uploads\" tabindex=\"16\" placeholder=\"200 characters max\" aria-invalid=\"false\" rows=\"10\" cols=\"50\"></textarea>'+\r\n        ((i+1 == totalsItems) ? '' :\r\n          '<a href=\"#show-next-item\" class=\"button-plus green\"> '+\r\n            '<span class=\"button-label color-white\"> Add another photo or video </span>'+ \r\n          '</a>')+   \r\n        '<div class=\"review-container flex-container align-middle\">'+\r\n          '<p class=\"file-label button-label color-light-green\" data-id=\"'+i+'\"></p>'+ \r\n          '<div class=\"flex-container align-middle act-container\">'+\r\n            '<a href=\"#actions-button\" class=\"button btn-act editmode\" data-id=\"'+i+'\" >EDIT</a>'+\r\n            '<a href=\"#delete-item\" class=\"button button-close\" data-id=\"'+i+'\" ><img src=\"/wp-content/themes/centennial-houstonzoo/assets/img/icon-close-rounded.svg\"></a>'+\r\n          '</div>'+\r\n        '</div>'+\r\n      '</div>';        \r\n    }\r\n\r\n    return $items;\r\n  },\r\n\r\n  rearrangeData = function(index){\r\n    var $deletedObj = null;\r\n    var idx = index;\r\n    var firstData = true;\r\n    $('body').find('#field_uploads').children().each(function(){\r\n      var $child = $(this);\r\n      var currID = $child.data('id');\r\n      \r\n      if (currID == idx) {\r\n        $child.data('id', '999');\r\n        $child.attr('data-id','999');\r\n        $('body').find('[data-id='+idx+']').data('id', '999');\r\n        $('body').find('[data-id='+idx+']').attr('data-id', '999');\r\n        $child.addClass('hide');\r\n        $deletedObj = $child;\r\n        $child.remove();\r\n      } else if (currID > idx) {\r\n        $('body').find('[data-id='+currID+']').data('id', idx);\r\n        $('body').find('[data-id='+currID+']').attr('data-id', idx);\r\n        $('body').find('.item-no[data-id='+idx+']').text(parseInt(idx + 1));\r\n        idx++;\r\n      } \r\n    })\r\n    $('body').find('#field_uploads').append($deletedObj);\r\n    $('body').find('[data-id=\"999\"]').data('id', parseInt(self.totalsItems-1));\r\n    $('body').find('[data-id=\"999\"]').attr('data-id', parseInt(self.totalsItems-1));\r\n  },\r\n\r\n  comboStyled = function(onlyFunction = false) {\r\n    $('body').find('.ginput_container select, .input-field select, .input-field-cmb select').each(function(){\r\n      var $this = $(this), numberOfOptions = $(this).children('option').length;\r\n      var $name = $this.attr('name');\r\n      \r\n      if (onlyFunction == false) {\r\n        $this.parent().parent().addClass($name);\r\n        $this.addClass('select-hidden');\r\n        $this.wrap('<div class=\"select\"></div>');\r\n        $this.after('<div class=\"select-styled\"></div>');\r\n            \r\n        var $styledSelect = $this.next('div.select-styled');\r\n        $styledSelect.text($this.children('option').eq(0).text());\r\n    \r\n        var $list = $('<ul />', {\r\n          'class': 'select-options'\r\n        }).insertAfter($styledSelect);\r\n    \r\n        for (var i = 0; i < numberOfOptions; i++) {\r\n          if ($this.children('option').eq(i).is(':selected')) {\r\n            $styledSelect.text($this.children('option').eq(i).text());\r\n          }\r\n        }\r\n      } else {\r\n        var $styledSelect = $this.next('div.select-styled');\r\n        var $list = $this.find('.select-options');        \r\n      }\r\n  \r\n      $styledSelect.on(\"click\", function(e) {\r\n          e.stopPropagation();\r\n          $('div.select-styled.active').not(this).each(function(){\r\n            $(this).removeClass('active').next('ul.select-options').hide();\r\n          });\r\n          var $selectOptions = $(this).closest('.select').find('.select-options').empty();\r\n          for (var i = 0; i < numberOfOptions; i++) {\r\n            if ( $this.children('option').eq(i).text() !== '') {\r\n              var liProps = {\r\n                text: $this.children('option').eq(i).text(),\r\n                rel: $this.children('option').eq(i).val(),\r\n                class: ($this.children('option').eq(i).attr('disabled') ? 'disabled' : '') + $this.children('option').eq(i).val(),\r\n              };\r\n              $('<li />', liProps).appendTo($selectOptions);\r\n            }\r\n          }\t\t\t\r\n          $selectOptions.find('li').on(\"click\", function(e) {\r\n            e.stopPropagation();\r\n            if (!$(e.target).is('.disabled')) {\r\n              $styledSelect.removeClass('active');\r\n              $this.val($(this).attr('rel')).trigger(\"change\");\r\n              $selectOptions.hide();\t\t\r\n            }\r\n          });\t\r\n      $(this).toggleClass('active').next('ul.select-options').toggle();\r\n      })\r\n  \r\n        $this.on(\"change\", function() {\r\n        // sync select's value with front label\r\n          var currentValue = $this.val();\r\n          $styledSelect.removeClass('selected');\r\n          for (var i = 0; i < numberOfOptions; i++) {\r\n            if ($this.children('option').eq(i).attr('value') == currentValue) {\r\n              $styledSelect.text($this.children('option').eq(i).text());\r\n              if ($this.children('option').eq(i).val()) {\r\n                $styledSelect.addClass('selected');\r\n              }\r\n            }\r\n          }\t\r\n        });\r\n  \r\n      $(document).on(\"click\", function() {\r\n        $styledSelect.removeClass('active');\r\n        $list.hide();\r\n      })\r\n    });\r\n  },\r\n\r\n  clearItems = function(id, file_only = false) {\r\n    var $currInputFile = $('.input_file[data-id=\"'+id+'\"]');\r\n    var $currInputFileText = $('.file-label[data-id=\"'+id+'\"]');\r\n    var $labelInput = $('.label-input[data-id=\"'+id+'\"]');\r\n    \r\n    $currInputFile.val('');\r\n    $currInputFileText.val('');\r\n    $labelInput.text('Select file');\r\n    $currInputFile.parent().removeClass('selected');\r\n\r\n    if (file_only == false) { \r\n      var $uploadsItem = $('.uploads-item[data-id=\"'+id+'\"]');\r\n      var $selectedYear =  $('.select-year[data-id=\"'+id+'\"]');\r\n      var $textareaUploads =  $('.textarea-uploads[data-id=\"'+id+'\"]');\r\n\r\n      $selectedYear.prop('selectedIndex',0);\r\n      $($selectedYear.parent().find('.select-styled')).text(\"Year\");\r\n      $textareaUploads.val('');\r\n      $uploadsItem.removeClass('selected');\r\n      $uploadsItem.addClass('input');\r\n    }    \r\n  },\r\n\r\n  inputHandler = function(id, filename, showNextItem = false) {\r\n    var nextID = parseInt( parseInt(id) + 1 );\r\n    var $fileLabel = $('.file-label[data-id=\"'+id+'\"]');\r\n    var $labelInput = $('.label-input[data-id=\"'+id+'\"]');\r\n    var $uploadsItem = $('.uploads-item[data-id=\"'+id+'\"]');\r\n    var $nextItem = $('.uploads-item[data-id='+nextID+']');\r\n    \r\n    $fileLabel.text('.  '+filename);\r\n    $fileLabel.prepend('<span class=\"item-no\" data-id=\"'+id+'\">'+nextID+'</span>');\r\n    \r\n    $labelInput.text(filename);\r\n    $labelInput.parent().addClass('selected');\r\n\r\n    if ((filename !== '') && (!$uploadsItem.hasClass('edit'))) {\r\n      if (showNextItem) {\r\n        $uploadsItem.addClass('selected');\r\n        $uploadsItem.removeClass('input');  \r\n        $nextItem.removeClass('hide');\r\n        $nextItem.addClass('input');\r\n      }\r\n    }\r\n\r\n    if (filename == '') {\r\n      $labelInput.text('Select file');\r\n      $labelInput.parent().removeClass('selected');\r\n    }\r\n  },\r\n\r\n  onChangeEvents = function($obj = false){\r\n    var self = this;\r\n    if ( $obj == false ) {\r\n      $obj = self.$input;\r\n    }\r\n    $obj.on(\"input, keydown, change, keyup\", function(e){\r\n      if ((this.name == self.fieldName) || (this.id == self.fieldName)) {\r\n        self.name = this.value \r\n      } else if ((this.name == self.fieldEmail) || (this.id == self.fieldEmail)) {\r\n        self.email = this.value;\r\n      } else if ((this.name == self.fieldPhone) || (this.id == self.fieldPhone)) {\r\n        self.phone = this.value;\r\n      }\r\n      // console.log(this);\r\n      // console.log(this.value);\r\n    });\r\n  },\r\n\r\n  getFilename = function(id){\r\n    var $obj = $('.input_file[data-id=\"'+id+'\"]');\r\n\r\n    if ($obj) {\r\n      var tmpName = $obj.val().split('\\\\').pop();\r\n      var file = $obj[0].files[0];\r\n      var totalSizeMb = 0;\r\n      if (file !== undefined) {\r\n        totalSizeMb = file.size  / Math.pow(1024,2);\r\n      }\r\n      if (tmpName != '') {\r\n        return tmpName  + ' (' + totalSizeMb.toFixed(2) + ' MB)';\r\n      } else {\r\n        return \"\";\r\n      }\r\n    } else {\r\n      return \"\";\r\n    }\r\n  },\r\n\r\n  reRender = function(){\r\n    var self = this;\r\n    // fill for review section\r\n    var $rev = $('body').find('#field_1_12').after($htmlContainer).next();\r\n    var visits = '';\r\n    var conn = '';\r\n    var $zooMemory = $('body').find('textarea[id=\"input_1_6\"]');\r\n    var zooMemory = $zooMemory.val();\r\n    var $input = $('.ginput_container').find('input');\r\n    \r\n    self.onChangeEvents($input);\r\n\r\n    // trigger radio selection for month/year\r\n    // so selection visual can be achieved\r\n    $('body').find('ul#input_1_23').trigger(\"click\");\r\n\r\n    $zooMemory.on('change, keydown, keyup', function(){\r\n      var str = $(this).val();\r\n      var words = str.split(' ');\r\n      var lastIndex = str.lastIndexOf(\" \");\r\n\r\n      if (words.length == 500) {\r\n        str = str.substring(0, lastIndex);\r\n        $(this).val(str);        \r\n      }\r\n    });\r\n\r\n    if (self.name) {\r\n      var visit = $('body').find('input[id=\"input_1_13\"]').val();\r\n      var visitTime = $('body').find(\"input[type='radio'][name='input_23']:checked\").val();\r\n\r\n      $('body').find('.gfield_checkbox[id=\"input_1_5\"]').children().each(function(){\r\n        var val = $(this).find('input:checked').val();\r\n        if (val) {\r\n          conn += val.replace(\"_\", \" \") + ',';\r\n        }\r\n      }); \r\n\r\n      if ( (conn != '') || (visit != '') || (visitTime != '')) {\r\n        visits = '<span class=\"button-label\"> ('+conn+' '+visit+' '+visitTime+')</span>';\r\n      } \r\n      $rev.append('<div class=\"form-input-text\">'+ self.name + visits+'</div>');\r\n    }\r\n\r\n    $text = self.email;\r\n    if ((self.email != '') && (self.phone != '')) {\r\n      $text += ', ' + self.phone;\r\n    } else {\r\n      $text += self.phone;\r\n    } \r\n    if ($text) {\r\n      $rev.append('<p>'+$text+'</p>');\r\n    }      \r\n    $rev.append('<p class=\"textarea-label zoo-memory\"><i>'+zooMemory+'</i></p>');   \r\n    if (self.$htmlHasInputedFile != null) {\r\n      $rev.after().append(self.$htmlHasInputedFile[0]);\r\n    }       \r\n\r\n    // uploads handle\r\n    if (self.$htmlHasInputedFile == null) {\r\n      var $uploads = $('body').find('#field_1_20').after($htmlFileUpload).next();\r\n      var $html = self.templateUpload();\r\n      $uploads.append($html); \r\n      self.comboStyled();\r\n    } else {\r\n      var $uploads = $('body').find('#field_uploads');\r\n      self.comboStyled(true);\r\n    }\r\n\r\n    $uploads.children().each(function(){  \r\n      var id = this.getAttribute('data-id');\r\n      var filename = self.getFilename(id);\r\n\r\n      if (filename != '') {\r\n        self.inputHandler(id, filename, true);\r\n      }\r\n    });\r\n        \r\n    $uploads.find('[href=\"#show-next-item\"]').on(\"click\", function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      var id = $(this).parents()[0].getAttribute('data-id');\r\n      var filename = self.getFilename(id);\r\n\r\n      if (filename == '') {\r\n        alert('Cannot add new item, fill current item first.');\r\n      } else {\r\n        self.inputHandler(id, filename, true);\r\n      }\r\n    });\r\n\r\n    $uploads.find('.clear-img').on(\"click\", function(e) {\r\n      var id = this.getAttribute('data-id');\r\n      $(this).parent().removeClass('selected');\r\n      self.clearItems(id, true);\r\n      self.inputHandler(id, '');\r\n    }); \r\n\r\n    $uploads.find('[href=\"#actions-button\"]').on(\"click\", function(e) {\r\n      e.preventDefault();\r\n      var id = this.getAttribute('data-id');\r\n      var $uploadsItem = $('.uploads-item[data-id=\"'+id+'\"]');\r\n      var filename = self.getFilename(id);\r\n      \r\n      if (filename == '') {\r\n        alert('File must be selected.')\r\n      } else {\r\n        $uploadsItem.toggleClass('edit');\r\n        $uploadsItem.toggleClass('selected');\r\n\r\n        if ($uploadsItem.hasClass('edit')) {\r\n          $(this).text('SAVE');\r\n        } else {\r\n          $(this).text('EDIT');\r\n        }\r\n      }\r\n      \r\n    });\r\n\r\n    $uploads.find('[href=\"#delete-item\"]').on(\"click\", function(e) {\r\n      e.preventDefault();\r\n      var id = $(this).data('id');\r\n      if (confirm('Are you sure you want to delete this item?')) {\r\n        self.clearItems(id);         \r\n        /*\r\n        $('.uploads-item').removeClass('input');\r\n        $('.uploads-item').not('.selected, [data-id=\"'+id+'\"]').addClass('hide');\r\n        $('.uploads-item[data-id=\"'+id+'\"]').addClass('input');\r\n        */\r\n        gfHandler.rearrangeData(id);\r\n      }                       \r\n    });\r\n      \r\n    $uploads.find(' input.input_file ').on(\"change\", function() {\r\n      var id = this.getAttribute('data-id');\r\n      var filename = self.getFilename(id);\r\n      self.inputHandler(id, filename);\r\n    });\r\n\r\n    $uploads.children().each(function(){\r\n      var id = this.getAttribute('data-id');\r\n      var $input = $(this).children().children().children()[0];\r\n      var $yearInput = $(this).children().children().children()[1];\r\n\r\n      $($input).on(\"change\", function(e){\r\n        var $previewContainer = $('<div id=\"image-prev-'+id+'\" class=\"gf-image-upload-preview\"><div class=\"remove-button\" title=\"Remove image\"></div><img/></div>').appendTo($rev);\r\n        var reader = new FileReader();\r\n        reader.onload = function (e) {\r\n          $previewContainer.find('img').attr('src', e.target.result);\r\n        }\r\n        reader.readAsDataURL( $input.files[0] );\t\r\n        self.$htmlHasInputedFile = $uploads;\r\n      });\r\n\r\n      $($yearInput).on(\"change\", function(e){\r\n        self.$htmlHasInputedFile = $uploads;\r\n      })\r\n    });\r\n\r\n\r\n    if (self.$htmlHasInputedFile != null) {\r\n      var $inputedData = $('body').find('#field_1_20').after(self.$htmlHasInputedFile).next();\r\n\r\n      $inputedData.children().each(function(e){\r\n        var id = this.getAttribute('data-id');\r\n        var count = parseInt( parseInt(id) + 1);\r\n        var $currInputFile = $('.input_file[data-id=\"'+id+'\"]');\r\n        var filename = self.getFilename(id);\r\n\r\n        if (filename) {\r\n          var caption = $('.textarea-uploads[data-id=\"'+id+'\"]').val();\r\n          var $html = \r\n          '<li class=\"item-review\" data-id=\"'+id+'\">'+\r\n            '<div class=\"review-container flex-container\">'+\r\n              '<p class=\"file-label button-label color-light-green\" data-id=\"'+id+'\" > <span class=\"item-no\" data-id=\"'+id+'\">'+count+'</span>.  '+filename+'</p>'+\r\n              '<div class=\"flex-container align-self-top act-container\">'+\r\n                '<a href=\"#review-edit-button\" class=\"button editmode\" data-id=\"'+id+'\" >EDIT</a>'+\r\n                '<a href=\"#delete-item\" class=\"button button-close\" data-id=\"'+id+'\" ><img src=\"/wp-content/themes/centennial-houstonzoo/assets/img/icon-close-rounded.svg\"></a>'+\r\n              '</div>'+\r\n            '</div>'+\r\n            '<div class=\"image-container flex-container\">'+\r\n              '<img src=\"\" class=\"img-review\" data-id=\"'+id+'\" >'+\r\n              '<p class=\"textarea-label\" >'+caption+'</p>'+\r\n            '</div>'+\r\n          '</li>';\r\n\r\n          var $obj = $rev.append($html);            \r\n          var reader = new FileReader();\r\n          reader.onload = function (e) {\r\n            $obj.find('.img-review[data-id=\"'+id+'\"]').attr('src', e.target.result);\r\n          }\r\n          reader.readAsDataURL($currInputFile[0].files[0]);\r\n        }\r\n      });\r\n\r\n      $rev.find('[href=\"#review-edit-button\"]').on(\"click\", function(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();              \r\n        var id = this.getAttribute('data-id');\r\n\r\n        $(\"#gform_target_page_number_1\").val(\"3\");  \r\n        $(\"#gform_1\").trigger(\"submit\",[true]);\r\n\r\n        $($('.btn-act[data-id=\"'+id+'\"]')[0]).click();\r\n      });\r\n\r\n      $rev.find('[href=\"#delete-item\"]').on(\"click\", function(e){\r\n        e.preventDefault();\r\n        var id = this.getAttribute('data-id');\r\n        \r\n        if (confirm('Are you sure you want to delete this item?')) {\r\n          self.clearItems(id);\r\n          $('.item-review[data-id=\"'+id+'\"]').remove();\r\n          gfHandler.rearrangeData(id);\r\n        }\r\n      });            \r\n    }\r\n  },\r\n\r\n  init = function(e) {\r\n    var self = this;\r\n\r\n    self.$fieldReview = self.$fieldHidden.after($htmlContainer).next();\r\n    self.onChangeEvents();\r\n    self.comboStyled();\r\n\r\n    $(document).on('gform_post_render', function (event, form_id, current_page) {\r\n      self.onChangeEvents();\r\n      self.reRender();\r\n    });\r\n\r\n    // set background to selected radio button for month/year selection\r\n    $('body').on(\"click\", \"#input_1_23\", function() {\r\n      $(this).find('li').css({'background': 'transparent'});\r\n      $(this).find('input:checked').parent().css({'background': '#FFFFFF'});\r\n    });\r\n    \r\n  }\r\n}\r\n\r\njQuery(document).ready(function($) {\r\n\r\n  var myElement = document.querySelector(\"header\");\r\n  var options = {\r\n    offset : 200,\r\n  };\r\n  var headroom  = new Headroom(myElement, options);\r\n  headroom.init();\r\n\r\n  mainHandler.init();\r\n  gfHandler.init();\r\n\r\n  $(window).on(\"load, scroll\", function() {\r\n    var topTreshold = 0;\r\n    if (Foundation.MediaQuery.is('small')) {\r\n      topTreshold = $('header').outerHeight();\r\n    } else {\r\n      topTreshold = $(window).height() / 2;\r\n    }\r\n    if($(window).scrollTop() > topTreshold) {\r\n        $(\"header, .menu-open-container-inner\").addClass(\"scrolled\");\r\n        $(\".logo-white\").addClass(\"hide\");\r\n        $(\".compact-logo-white\").removeClass(\"hide\");\r\n    } else {\r\n        $(\"header, .menu-open-container-inner\").removeClass(\"scrolled\");\r\n        $(\".compact-logo-white\").addClass(\"hide\");\r\n        $(\".logo-white\").removeClass(\"hide\");\r\n    }\r\n  });\r\n\r\n/*   $(window).on('resize, load, scroll', function() {\r\n    $('.dynamic-content-container').children('.bg-image-content').each(function() {\r\n      $content = $(this);\r\n      var specifiedId = this.getAttribute('data-specified-id');\r\n      $transPanel = $(\".half-transparent-panel[data-specified-id=\"+specifiedId+\"]\");\r\n      var contentPadTop = parseFloat($content.css('padding-top'));\r\n      var contentPadBot = parseFloat($content.css('padding-bottom'));\r\n      var contentHeight = parseFloat($content.height());\r\n      var newHeight = contentHeight + contentPadTop + contentPadBot;\r\n      $transPanel.css({\r\n        'height': newHeight+\"px\"\r\n      });\r\n    })\r\n  }).trigger('resize'); */\r\n  \r\n\t// Adds Flex Video to YouTube and Vimeo Embeds\r\n  $('iframe[src*=\"youtube.com\"], iframe[src*=\"vimeo.com\"]').each(function() {\r\n    $(this).parent().addClass('responsive-embed widescreen')\r\n  })\r\n\r\n  // debugger\r\n  $(window).on('resize', function() {\r\n    $('.debugger .column-width').html($('.debugger .cell').eq(0).width())\r\n    $('.debugger .gutter-width').html(parseInt($('.debugger .cell').eq(0).css('margin-left')) * 2)\r\n    $('.debugger .container-padding').html(parseInt($('.debugger .grid-container').eq(0).css('padding-left')) * 2)\r\n  }).trigger('resize')\r\n\r\n  $('.debugger').on('click', function(e) {\r\n    $(this).remove()\r\n  })\r\n\r\n})\r\n"],"file":"main.min.js"}