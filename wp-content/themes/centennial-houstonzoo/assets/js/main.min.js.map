{"version":3,"sources":["main.js"],"names":["$","document","foundation","mainHandler","$menuOpenContainer","$html","$menuItem","$contentRight","$yourStoryContainer","$defaultContent","$leftSection","$buttonBack","openMenu","e","this","toggleClass","removeClass","addClass","init","self","on","stopPropagation","selectedId","getAttribute","$menuSelected","preventDefault","hasClass","gfHandler","fieldName","fieldPhone","fieldEmail","$input","find","$fieldHidden","$fieldReview","$htmlContainer","$htmlFileUpload","$fieldBeforeDynamic","totalsItems","yearStart","$htmlHasInputedFile","$selectIdentifier","$gformPageFooter","name","email","phone","visit","visitTime","zooMemory","conn","templateUpload","$items","$years","currentYear","Date","getFullYear","i","comboStyled","onlyFunction","each","$this","numberOfOptions","children","length","$name","attr","parent","wrap","after","$styledSelect","next","text","eq","$list","class","insertAfter","is","not","hide","$selectOptions","closest","empty","liProps","rel","val","appendTo","target","trigger","toggle","currentValue","clearItems","id","file_only","$currInputFile","$currInputFileText","$labelInput","$uploadsItem","$selectedYear","$textareaUploads","prop","inputHandler","filename","showNextItem","nextID","parseInt","$fileLabel","$nextItem","onChangeEvents","value","getFilename","$obj","console","log","files","split","pop","event","form_id","current_page","$rev","visits","append","$uploads","parents","alert","confirm","$yearInput","$previewContainer","reader","FileReader","onload","result","readAsDataURL","count","caption","click","remove","jQuery","ready","window","scrollTop","$content","specifiedId","$transPanel","contentPadTop","parseFloat","css","contentPadBot","newHeight","height","html","width"],"mappings":"AAAAA,EAAEC,UAAUC,aACZ,IAAIC,YAAc,CAChBC,mBAAAA,mBAAqBJ,EAAE,wBACvBK,MAAAA,MAAQL,EAAE,QACVM,UAAAA,UAAYN,EAAE,cACdO,cAAAA,cAAgBP,EAAE,kBAClBQ,oBAAAA,oBAAsBR,EAAE,yBACxBS,gBAAAA,gBAAkBT,EAAE,oBACpBU,aAAAA,aAAeV,EAAE,iBACjBW,YAAAA,YAAcX,EAAE,gBAEhBY,SAAAA,SAAW,SAASC,GAClBC,KAAKV,mBAAmBW,YAAY,UACpCD,KAAKT,MAAMU,YAAY,kBACvBD,KAAKN,oBAAoBQ,YAAY,UACrCF,KAAKL,gBAAgBQ,SAAS,UAC9BH,KAAKR,UAAUW,SAAS,UACxBH,KAAKJ,aAAaM,YAAY,uBAC9BF,KAAKH,YAAYM,SAAS,SAG5BC,KAAAA,KAAO,SAASL,GACd,IAAIM,EAAOL,KAEXK,EAAKb,UAAUc,GAAG,QAAS,SAASP,GAClCA,EAAEQ,kBACF,IAAIC,EAAaR,KAAKS,aAAa,WAC/BC,EAAgBxB,EAAE,sBAAsBsB,EAAW,KAEvDH,EAAKb,UAAUU,YAAY,UAC3BQ,EAAcP,SAAS,YAGzBjB,EAAE,uBAAuBoB,GAAG,QAAS,SAASP,GAC5CA,EAAEY,iBACFZ,EAAEQ,kBACFlB,YAAYS,aAGdZ,EAAE,8BAA8BoB,GAAG,QAAS,SAASP,GACnDA,EAAEY,iBACGN,EAAKf,mBAAmBsB,SAAS,WACpCvB,YAAYS,WAEdO,EAAKZ,cAAcS,YAAY,UAC/BG,EAAKX,oBAAoBS,SAAS,UAClCE,EAAKT,aAAaO,SAAS,uBAC3BE,EAAKR,YAAYK,YAAY,UAI/BhB,EAAE,0BAA0BoB,GAAG,QAAS,SAASP,GAC/CA,EAAEY,iBACFZ,EAAEQ,kBACFF,EAAKb,UAAUW,SAAS,UACxBE,EAAKT,aAAaM,YAAY,uBAC9BG,EAAKZ,cAAcU,SAAS,UAC5BE,EAAKX,oBAAoBQ,YAAY,UACrCG,EAAKR,YAAYM,SAAS,YAM5BU,UAAY,CACdC,UAAAA,UAAY,WACZC,WAAAA,WAAa,UACbC,WAAAA,WAAa,UACbC,OAAAA,OAAS/B,EAAE,qBAAqBgC,KAAK,sGACrCC,aAAAA,aAAejC,EAAE,eACjBkC,aAAAA,aAAe,GACfC,eAAAA,eAAiB,8BACjBC,gBAAAA,gBAAkB,+BAClBC,oBAAAA,oBAAsBrC,EAAE,eACxBsC,YAAAA,YAAc,GACdC,UAAAA,UAAY,IACZC,oBAAAA,oBAAsB,KACtBC,kBAAAA,kBAAoBzC,EAAE,4BACtB0C,iBAAAA,iBAAmB1C,EAAE,eAAegC,KAAK,4BACzCW,KAAAA,KAAO,GAAIC,MAAAA,MAAQ,GAAIC,MAAAA,MAAQ,GAAIC,MAAAA,MAAQ,GAAIC,UAAAA,UAAY,GAAIC,UAAAA,UAAY,GAAIC,KAAAA,KAAO,GAEtFC,eAAAA,eAAiB,WACf,IAAIC,EAAS,GACTC,EAAS,wBACTC,GAAc,IAAIC,MAAOC,cAAgB,EAE7C,IAAK,IAAIC,EAAIjB,UAAWiB,EAAIH,EAAaG,IACvCJ,GAAU,kBAAkBI,EAAE,KAAKA,EAAE,YAGvC,IAAK,IAAIA,EAAI,EAAGA,EAAIlB,YAAakB,IAE/BL,GACA,mCAAoCK,EAAE,EAAK,OAAQ,IAAI,cAAcA,EAAE,kJAGJA,EAAE,cAAcA,EAAE,uGACxCA,EAAE,qBAAqBA,EAAE,yDAC5BA,EAAE,wGAGQA,EAAE,cAAcA,EAAE,mEAC9DJ,EACF,uEAG8CI,EAAE,6EACEA,EAAE,cAAcA,EAAE,sIACtEA,EAAE,GAAKlB,YAAe,GACxB,uIAGA,6GACkEkB,EAAE,wGAEMA,EAAE,0EACTA,EAAE,4BAMzE,OAAOL,GAGTM,YAAAA,YAAc,SAASC,GAAe,GACpC1D,EAAE,QAAQgC,KAAK,0EAA0E2B,KAAK,WAC5F,IAAIC,EAAQ5D,EAAEc,MAAO+C,EAAkB7D,EAAEc,MAAMgD,SAAS,UAAUC,OAC9DC,EAAQJ,EAAMK,KAAK,QAEvB,GAAoB,GAAhBP,EAAuB,CACzBE,EAAMM,SAASA,SAASjD,SAAS+C,GACjCJ,EAAM3C,SAAS,iBACf2C,EAAMO,KAAK,8BACXP,EAAMQ,MAAM,sCAERC,EAAgBT,EAAMU,KAAK,sBACjBC,KAAKX,EAAME,SAAS,UAAUU,GAAG,GAAGD,QAMlD,IAJA,IAAIE,EAAQzE,EAAE,SAAU,CACtB0E,MAAS,mBACRC,YAAYN,GAENb,EAAI,EAAGA,EAAIK,EAAiBL,IAC/BI,EAAME,SAAS,UAAUU,GAAGhB,GAAGoB,GAAG,cACpCP,EAAcE,KAAKX,EAAME,SAAS,UAAUU,GAAGhB,GAAGe,YAItD,CAAA,IAAIF,EAAgBT,EAAMU,KAAK,qBAC3BG,EAAQb,EAAM5B,KAAK,mBAGzBqC,EAAcjD,GAAG,QAAS,SAASP,GAC/BA,EAAEQ,kBACFrB,EAAE,4BAA4B6E,IAAI/D,MAAM6C,KAAK,WAC3C3D,EAAEc,MAAME,YAAY,UAAUsD,KAAK,qBAAqBQ,SAG1D,IADA,IAAIC,EAAiB/E,EAAEc,MAAMkE,QAAQ,WAAWhD,KAAK,mBAAmBiD,QAC/DzB,EAAI,EAAGA,EAAIK,EAAiBL,IACnC,GAA+C,KAA1CI,EAAME,SAAS,UAAUU,GAAGhB,GAAGe,OAAe,CACjD,IAAIW,EAAU,CACZX,KAAMX,EAAME,SAAS,UAAUU,GAAGhB,GAAGe,OACrCY,IAAKvB,EAAME,SAAS,UAAUU,GAAGhB,GAAG4B,MACpCV,OAAQd,EAAME,SAAS,UAAUU,GAAGhB,GAAGS,KAAK,YAAc,WAAa,IAAML,EAAME,SAAS,UAAUU,GAAGhB,GAAG4B,OAE9GpF,EAAE,SAAUkF,GAASG,SAASN,GAGlCA,EAAe/C,KAAK,MAAMZ,GAAG,QAAS,SAASP,GAC7CA,EAAEQ,kBACGrB,EAAEa,EAAEyE,QAAQV,GAAG,eAClBP,EAAcrD,YAAY,UAC1B4C,EAAMwB,IAAIpF,EAAEc,MAAMmD,KAAK,QAAQsB,QAAQ,UACvCR,EAAeD,UAGvB9E,EAAEc,MAAMC,YAAY,UAAUuD,KAAK,qBAAqBkB,WAGtD5B,EAAMxC,GAAG,SAAU,WAEjB,IAAIqE,EAAe7B,EAAMwB,MACzBf,EAAcrD,YAAY,YAC1B,IAAK,IAAIwC,EAAI,EAAGA,EAAIK,EAAiBL,IAC/BI,EAAME,SAAS,UAAUU,GAAGhB,GAAGS,KAAK,UAAYwB,IAClDpB,EAAcE,KAAKX,EAAME,SAAS,UAAUU,GAAGhB,GAAGe,QAC9CX,EAAME,SAAS,UAAUU,GAAGhB,GAAG4B,OACjCf,EAAcpD,SAAS,eAMjCjB,EAAEC,UAAUmB,GAAG,QAAS,WACtBiD,EAAcrD,YAAY,UAC1ByD,EAAMK,YAKZY,WAAAA,WAAa,SAASC,EAAIC,GAAY,GAEpC,IAAIC,EAAiB7F,EAAE,wBAAwB2F,EAAG,MAC9CG,EAAqB9F,EAAE,wBAAwB2F,EAAG,MAClDI,EAAc/F,EAAE,yBAAyB2F,EAAG,MAOhD,GALAE,EAAeT,IAAI,IACnBU,EAAmBV,IAAI,IACvBW,EAAYxB,KAAK,eACjBsB,EAAe3B,SAASlD,YAAY,YAEnB,GAAb4E,EAAoB,CACtB,IAAII,EAAehG,EAAE,0BAA0B2F,EAAG,MAC9CM,EAAiBjG,EAAE,yBAAyB2F,EAAG,MAC/CO,EAAoBlG,EAAE,8BAA8B2F,EAAG,MAE3DM,EAAcE,KAAK,gBAAgB,GACnCnG,EAAEiG,EAAc/B,SAASlC,KAAK,mBAAmBuC,KAAK,QACtD2B,EAAiBd,IAAI,IACrBY,EAAahF,YAAY,YACzBgF,EAAa/E,SAAS,WAI1BmF,aAAAA,aAAe,SAAST,EAAIU,EAAUC,GAAe,GACnD,IAAIC,EAASC,SAAUA,SAASb,GAAM,GAClCc,EAAazG,EAAE,wBAAwB2F,EAAG,MAC1CI,EAAc/F,EAAE,yBAAyB2F,EAAG,MAC5CK,EAAehG,EAAE,0BAA0B2F,EAAG,MAC9Ce,EAAY1G,EAAE,yBAAyBuG,EAAO,KAClDE,EAAWlC,KAAKgC,EAAO,MAAMF,GAC7BN,EAAYxB,KAAK8B,GACjBN,EAAY7B,SAASjD,SAAS,YAEZ,KAAboF,GAAsBL,EAAatE,SAAS,SAC3C4E,IACFN,EAAa/E,SAAS,YACtB+E,EAAahF,YAAY,SACzB0F,EAAU1F,YAAY,SAIV,IAAZqF,IACFN,EAAYxB,KAAK,eACjBwB,EAAY7B,SAASlD,YAAY,cAIrC2F,eAAAA,eAAiB,WACf,IAAIxF,EAAOL,KACXA,KAAKiB,OAAOX,GAAG,uBAAwB,SAASP,GAC1CC,KAAK6B,MAAQxB,EAAKS,UACpBT,EAAKwB,KAAO7B,KAAK8F,MACR9F,KAAK6B,MAAQxB,EAAKW,WAC3BX,EAAKyB,MAAQ9B,KAAK8F,MACT9F,KAAK6B,MAAQxB,EAAKU,aAC3BV,EAAK0B,MAAQ/B,KAAK8F,UAKxBC,YAAAA,YAAc,SAASlB,GACrB,IAAImB,EAAO9G,EAAE,wBAAwB2F,EAAG,MAExC,GADAoB,QAAQC,IAAIF,EAAKG,OACbH,EAAK/C,OAAS,EAAG,CAGnB,OAFc+C,EAAK1B,MAAM8B,MAAM,MAAMC,MAC1B,GAGX,MAAO,IAIXjG,KAAAA,KAAO,SAASL,GACd,IAAIM,EAAOL,KAEXK,EAAKe,aAAef,EAAKc,aAAamC,MAAMjC,gBAAgBmC,OAC5DnD,EAAKwF,iBACLxF,EAAKsC,cAELzD,EAAEC,UAAUmB,GAAG,oBAAqB,SAAUgG,EAAOC,EAASC,GAC5DnG,EAAKwF,iBAEL,IAAIY,EAAOvH,EAAE,QAAQgC,KAAK,eAAeoC,MAAMjC,gBAAgBmC,OAC3DkD,EAAS,GAyBb,GAxBArG,EAAK6B,UAAYhD,EAAE,QAAQgC,KAAK,4BAA4BoD,MACxDjE,EAAKwB,OACPxB,EAAK2B,MAAQ9C,EAAE,QAAQgC,KAAK,0BAA0BoD,MACtDjE,EAAK4B,UAAY/C,EAAE,QAAQgC,KAAK,2BAA2BA,KAAK,aAAauC,OAC7EpD,EAAK8B,KAAO,GACZjD,EAAE,QAAQgC,KAAK,oCAAoC8B,WAAWH,KAAK,WACjE,IAAIyB,EAAMpF,EAAEc,MAAMkB,KAAK,iBAAiBoD,MACpCA,IACFjE,EAAK8B,MAAQmC,EAAM,OAIJ,IAAbjE,EAAK8B,MAA8B,IAAd9B,EAAK2B,OAAmC,IAAlB3B,EAAK4B,YACpDyE,EAAS,gCAAgCrG,EAAK8B,KAAK,IAAI9B,EAAK2B,MAAM,IAAI3B,EAAK4B,UAAU,YAEvFwE,EAAKE,OAAO,gCAAiCtG,EAAKwB,KAAO6E,EAAO,WAElED,EAAKE,OAAO,MAAMtG,EAAKyB,MAAQ,KAAOzB,EAAK0B,MAAQ,QACnD0E,EAAKE,OAAO,4BAA4BtG,EAAK6B,UAAU,YACvB,MAA5B7B,EAAKqB,qBACP+E,EAAKnD,QAAQqD,OAAOtG,EAAKqB,oBAAoB,IAIf,MAA5BrB,EAAKqB,oBAA6B,CACpC,IAAIkF,EAAW1H,EAAE,QAAQgC,KAAK,eAAeoC,MAAMhC,iBAAiBkC,OAChEjE,EAAQc,EAAK+B,iBACjBwE,EAASD,OAAOpH,GAChBc,EAAKsC,kBACA,CACDiE,EAAW1H,EAAE,QAAQgC,KAAK,kBAC9Bb,EAAKsC,aAAY,IAGnBiE,EAAS5D,WAAWH,KAAK,WACvB,IAAIgC,EAAK7E,KAAKS,aAAa,WACvB8E,EAAWlF,EAAK0F,YAAYlB,GAEhB,IAAZU,GACFlF,EAAKiF,aAAaT,EAAIU,GAAU,KAIpCqB,EAAS1F,KAAK,4BAA4BZ,GAAG,QAAS,SAASP,GAC7DA,EAAEY,iBACFZ,EAAEQ,kBACF,IAAIsE,EAAK3F,EAAEc,MAAM6G,UAAU,GAAGpG,aAAa,WACvC8E,EAAWlF,EAAK0F,YAAYlB,GAEhB,IAAZU,EACFuB,MAAM,iDAENzG,EAAKiF,aAAaT,EAAIU,GAAU,KAIpCqB,EAAS1F,KAAK,cAAcZ,GAAG,QAAS,SAASP,GAC/C,IAAI8E,EAAK7E,KAAKS,aAAa,WAC3BvB,EAAEc,MAAMoD,SAASlD,YAAY,YAC7BG,EAAKuE,WAAWC,GAAI,GACpBxE,EAAKiF,aAAaT,EAAI,MAGxB+B,EAAS1F,KAAK,4BAA4BZ,GAAG,QAAS,SAASP,GAC7DA,EAAEY,iBACF,IAAIkE,EAAK7E,KAAKS,aAAa,WACvByE,EAAehG,EAAE,0BAA0B2F,EAAG,MAGlC,IAFDxE,EAAK0F,YAAYlB,GAG9BiC,MAAM,2BAEN5B,EAAajF,YAAY,QACzBiF,EAAajF,YAAY,YAErBiF,EAAatE,SAAS,QACxB1B,EAAEc,MAAMyD,KAAK,QAEbvE,EAAEc,MAAMyD,KAAK,WAMnBmD,EAAS1F,KAAK,yBAAyBZ,GAAG,QAAS,SAASP,GAC1DA,EAAEY,iBACF,IAAIkE,EAAK7E,KAAKS,aAAa,WACvBsG,QAAQ,mBACV1G,EAAKuE,WAAWC,GAChB3F,EAAE,iBAAiBgB,YAAY,SAC/BhB,EAAE,iBAAiB6E,IAAI,wBAAwBc,EAAG,MAAM1E,SAAS,QACjEjB,EAAE,0BAA0B2F,EAAG,MAAM1E,SAAS,YAIlDyG,EAAS1F,KAAK,sBAAsBZ,GAAG,SAAU,WAC/C,IAAIuE,EAAK7E,KAAKS,aAAa,WACvB8E,EAAWlF,EAAK0F,YAAYlB,GAChCxE,EAAKiF,aAAaT,EAAIU,KAGxBqB,EAAS5D,WAAWH,KAAK,WACvB,IAAIgC,EAAK7E,KAAKS,aAAa,WACvBQ,EAAS/B,EAAEc,MAAMgD,WAAWA,WAAWA,WAAW,GAClDgE,EAAa9H,EAAEc,MAAMgD,WAAWA,WAAWA,WAAW,GAE1D9D,EAAE+B,GAAQX,GAAG,SAAU,SAASP,GAC9B,IAAIkH,EAAoB/H,EAAE,uBAAuB2F,EAAG,wGAAwGN,SAASkC,GACjKS,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAAUrH,GACxBkH,EAAkB/F,KAAK,OAAOiC,KAAK,MAAOpD,EAAEyE,OAAO6C,SAErDH,EAAOI,cAAerG,EAAOkF,MAAM,IACnC9F,EAAKqB,oBAAsBkF,IAG7B1H,EAAE8H,GAAY1G,GAAG,SAAU,SAASP,GAClCM,EAAKqB,oBAAsBkF,MAKC,MAA5BvG,EAAKqB,uBACYxC,EAAE,QAAQgC,KAAK,eAAeoC,MAAMjD,EAAKqB,qBAAqB8B,OAEpER,WAAWH,KAAK,SAAS9C,GACpC,IAAI8E,EAAK7E,KAAKS,aAAa,WACvB8G,EAAQ7B,SAAUA,SAASb,GAAM,GACjCE,EAAiB7F,EAAE,wBAAwB2F,EAAG,MAE9CU,EAAWlF,EAAK0F,YAAYlB,GAEhC,GAAIU,EAAU,CACZ,IAAIiC,EAAUtI,EAAE,8BAA8B2F,EAAG,MAAMP,MACnD/E,EACJ,oCAAoCsF,EAAG,+GAE6BA,EAAG,MAAM0C,EAAM,MAAMhC,EAAS,kGAE1BV,EAAG,0EACNA,EAAG,0GAIzBA,EAAG,mBAC9B2C,EAAQ,kBAIxBxB,EAAOS,EAAKE,OAAOpH,GACnB2H,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAAUrH,GACxBiG,EAAK9E,KAAK,wBAAwB2D,EAAG,MAAM1B,KAAK,MAAOpD,EAAEyE,OAAO6C,SAElEH,EAAOI,cAAcvC,EAAe,GAAGoB,MAAM,OAIjDM,EAAKvF,KAAK,gCAAgCZ,GAAG,QAAS,SAASP,GAC7DA,EAAEY,iBACFZ,EAAEQ,kBACF,IAAIsE,EAAK7E,KAAKS,aAAa,WAE3BvB,EAAE,+BAA+BoF,IAAI,KACrCpF,EAAE,YAAYuF,QAAQ,SAAS,EAAC,IAEhCvF,EAAEA,EAAE,qBAAqB2F,EAAG,MAAM,IAAI4C,UAGxChB,EAAKvF,KAAK,yBAAyBZ,GAAG,QAAS,SAASP,GACtDA,EAAEY,iBACF,IAAIkE,EAAK7E,KAAKS,aAAa,WAEvBsG,QAAQ,mBACV1G,EAAKuE,WAAWC,GAChB3F,EAAE,yBAAyB2F,EAAG,MAAM6C,iBAWhDC,OAAOxI,UAAUyI,MAAM,SAAS1I,GAE9BG,YAAYe,OACZS,UAAUT,OAEVlB,EAAE2I,QAAQvH,GAAG,eAAgB,WACxBpB,EAAE2I,QAAQC,YAAc,IACvB5I,EAAE,UAAUiB,SAAS,YACrBjB,EAAE,eAAeiB,SAAS,QAC1BjB,EAAE,eAAegB,YAAY,UAE7BhB,EAAE,UAAUgB,YAAY,YACxBhB,EAAE,eAAeiB,SAAS,QAC1BjB,EAAE,eAAegB,YAAY,WAInChB,EAAE2I,QAAQvH,GAAG,uBAAwB,WACnCpB,EAAE,8BAA8B8D,SAAS,qBAAqBH,KAAK,WACjEkF,SAAW7I,EAAEc,MACb,IAAIgI,EAAchI,KAAKS,aAAa,qBACpCwH,YAAc/I,EAAE,6CAA6C8I,EAAY,KACzE,IAAIE,EAAgBC,WAAWJ,SAASK,IAAI,gBACxCC,EAAgBF,WAAWJ,SAASK,IAAI,mBAExCE,EADgBH,WAAWJ,SAASQ,UACRL,EAAgBG,EAChDJ,YAAYG,IAAI,CACdG,OAAUD,EAAU,WAGvB7D,QAAQ,UAGXvF,EAAE,wDAAwD2D,KAAK,WAC7D3D,EAAEc,MAAMoD,SAASjD,SAAS,iCAI5BjB,EAAE2I,QAAQvH,GAAG,SAAU,WACrBpB,EAAE,2BAA2BsJ,KAAKtJ,EAAE,mBAAmBwE,GAAG,GAAG+E,SAC7DvJ,EAAE,2BAA2BsJ,KAA+D,EAA1D9C,SAASxG,EAAE,mBAAmBwE,GAAG,GAAG0E,IAAI,iBAC1ElJ,EAAE,gCAAgCsJ,KAA0E,EAArE9C,SAASxG,EAAE,6BAA6BwE,GAAG,GAAG0E,IAAI,oBACxF3D,QAAQ,UAEXvF,EAAE,aAAaoB,GAAG,QAAS,SAASP,GAClCb,EAAEc,MAAM0H","sourcesContent":["$(document).foundation();\r\nvar mainHandler = {\r\n  $menuOpenContainer = $(\".menu-open-container\"),\r\n  $html = $(\"html\"),\r\n  $menuItem = $(\".menu-item\"),\r\n  $contentRight = $('.content-right'), \r\n  $yourStoryContainer = $('.your-story-container'),\r\n  $defaultContent = $('.default-content'), \r\n  $leftSection = $('.left-section'),\r\n  $buttonBack = $('.button-back'),\r\n\r\n  openMenu = function(e){\r\n    this.$menuOpenContainer.toggleClass('active');\r\n    this.$html.toggleClass(\"disable-scroll\");\r\n    this.$yourStoryContainer.removeClass('active');\r\n    this.$defaultContent.addClass('active');\r\n    this.$menuItem.addClass('active');\r\n    this.$leftSection.removeClass('hide-for-small-only');\r\n    this.$buttonBack.addClass('hide');\r\n  },\r\n\r\n  init = function(e){\r\n    var self = this;\r\n\r\n    self.$menuItem.on(\"click\", function(e){\r\n      e.stopPropagation();\r\n      var selectedId = this.getAttribute('data-id');\r\n      var $menuSelected = $('.menu-item[data-id='+selectedId+']');\r\n\r\n      self.$menuItem.removeClass('active');\r\n      $menuSelected.addClass('active');     \r\n    });\r\n  \r\n    $('[href=\"#menu-open\"]').on(\"click\", function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      mainHandler.openMenu();\r\n    });\r\n\r\n    $('[href=\"#share-your-story\"]').on(\"click\", function(e) {\r\n      e.preventDefault();\r\n      if (!self.$menuOpenContainer.hasClass('active')) {\r\n        mainHandler.openMenu();\r\n      }\r\n      self.$contentRight.removeClass('active');\r\n      self.$yourStoryContainer.addClass('active');\r\n      self.$leftSection.addClass('hide-for-small-only');      \r\n      self.$buttonBack.removeClass('hide');\r\n      \r\n    });   \r\n\r\n    $('[href=#menu-open-back]').on(\"click\", function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      self.$menuItem.addClass('active');\r\n      self.$leftSection.removeClass('hide-for-small-only');            \r\n      self.$contentRight.addClass('active');\r\n      self.$yourStoryContainer.removeClass('active');\r\n      self.$buttonBack.addClass('hide');\r\n    })\r\n  \r\n  }\r\n}\r\n\r\nvar gfHandler = {\r\n  fieldName = 'input_16',\r\n  fieldPhone = 'input_4',\r\n  fieldEmail = 'input_3',\r\n  $input = $('.ginput_container').find('input[type=text], input[type=email], input[type=tel], input[type=number], textarea[name=\"input_6\"]'),\r\n  $fieldHidden = $('#field_1_12'),\r\n  $fieldReview = [],\r\n  $htmlContainer = '<li id=\"field_review\"></li>',\r\n  $htmlFileUpload = '<li id=\"field_uploads\"></li>',\r\n  $fieldBeforeDynamic = $('#field_1_20'),\r\n  totalsItems = 10,\r\n  yearStart = 2000,\r\n  $htmlHasInputedFile = null,\r\n  $selectIdentifier = $('.ginput_container select'),\r\n  $gformPageFooter = $('.gform_body').find('#gform_previous_button_1'), \r\n  name = '', email = '', phone = '', visit = '', visitTime = '', zooMemory = '', conn = '',\r\n\r\n  templateUpload = function(){\r\n    var $items = '';\r\n    var $years = '<option>Year</option>';\r\n    var currentYear = new Date().getFullYear() + 1;\r\n\r\n    for (let i = yearStart; i < currentYear; i++) {\r\n      $years += '<option value=\"'+i+'\">'+i+'</option>';      \r\n    }\r\n\r\n    for (let i = 0; i < totalsItems; i++) {\r\n  \r\n      $items += \r\n      '<div class=\"uploads-item input '+((i>0) ? 'hide': '')+'\" data-id=\"'+i+'\">'+\r\n        '<div class=\"grid-x grid-margin-x grid-input\">'+\r\n          '<div class=\"cell small-7 input-field\">'+\r\n            '<input type=\"file\" class=\"input_file hide\" id=\"input_file_'+i+'\" data-id=\"'+i+'\" name=\"file_upload[]\" size=\"25\" accept=\".jpg,.png,.giv,.mov\" />'+\r\n            '<label class=\"label-input\" data-id=\"'+i+'\" for=\"input_file_'+i+'\">Upload file</label>'+\r\n            '<span class=\"clear-img\" data-id=\"'+i+'\" ></span>'+\r\n          '</div>'+\r\n          '<div class=\"cell small-5 input-field-cmb\">'+\r\n            '<select name=\"input_year[]\" id=\"input_year_'+i+'\" data-id=\"'+i+'\" class=\"medium gfield_select select-year\" aria-invalid=\"false\">'+\r\n              $years+\r\n            '</select>'+\r\n          '</div>'+\r\n        '</div>'+\r\n        '<label class=\"gfield_label\" for=\"input_caption_'+i+'\">Add a caption</label>'+\r\n        '<textarea name=\"input_caption[]\" id=\"input_caption_'+i+'\" data-id=\"'+i+'\"  class=\"textarea textarea-uploads\" tabindex=\"16\" placeholder=\"50 words max\" aria-invalid=\"false\" rows=\"10\" cols=\"50\"></textarea>'+\r\n        ((i+1 == totalsItems) ? '' :\r\n        '<a href=\"#show-next-item\" class=\"button-plus white\"> '+\r\n          '<span class=\"button-label color-white\"> Add another photo or video </span>'+ \r\n        '</a>')+   \r\n        '<div class=\"review-container flex-container\">'+\r\n          '<p class=\"file-label button-label color-dark-green\" data-id=\"'+i+'\"></p>'+ \r\n          '<div class=\"flex-container\">'+\r\n            '<a href=\"#actions-button\" class=\"button btn-act editmode\" data-id=\"'+i+'\" >EDIT</a>'+\r\n            '<a href=\"#delete-item\" class=\"button button-close\" data-id=\"'+i+'\" ></a>'+\r\n          '</div>'+\r\n        '</div>'+\r\n      '</div>';        \r\n    }\r\n\r\n    return $items;\r\n  },\r\n\r\n  comboStyled = function(onlyFunction = false) {\r\n    $('body').find('.ginput_container select, .input-field select, .input-field-cmb select').each(function(){\r\n      var $this = $(this), numberOfOptions = $(this).children('option').length;\r\n      var $name = $this.attr('name');\r\n      \r\n      if (onlyFunction == false) {\r\n        $this.parent().parent().addClass($name);\r\n        $this.addClass('select-hidden');\r\n        $this.wrap('<div class=\"select\"></div>');\r\n        $this.after('<div class=\"select-styled\"></div>');\r\n            \r\n        var $styledSelect = $this.next('div.select-styled');\r\n        $styledSelect.text($this.children('option').eq(0).text());\r\n    \r\n        var $list = $('<ul />', {\r\n          'class': 'select-options'\r\n        }).insertAfter($styledSelect);\r\n    \r\n        for (var i = 0; i < numberOfOptions; i++) {\r\n          if ($this.children('option').eq(i).is(':selected')) {\r\n            $styledSelect.text($this.children('option').eq(i).text());\r\n          }\r\n        }\r\n      } else {\r\n        var $styledSelect = $this.next('div.select-styled');\r\n        var $list = $this.find('.select-options');        \r\n      }\r\n  \r\n      $styledSelect.on(\"click\", function(e) {\r\n          e.stopPropagation();\r\n          $('div.select-styled.active').not(this).each(function(){\r\n            $(this).removeClass('active').next('ul.select-options').hide();\r\n          });\r\n          var $selectOptions = $(this).closest('.select').find('.select-options').empty();\r\n          for (var i = 0; i < numberOfOptions; i++) {\r\n            if ( $this.children('option').eq(i).text() !== '') {\r\n              var liProps = {\r\n                text: $this.children('option').eq(i).text(),\r\n                rel: $this.children('option').eq(i).val(),\r\n                class: ($this.children('option').eq(i).attr('disabled') ? 'disabled' : '') + $this.children('option').eq(i).val(),\r\n              };\r\n              $('<li />', liProps).appendTo($selectOptions);\r\n            }\r\n          }\t\t\t\r\n          $selectOptions.find('li').on(\"click\", function(e) {\r\n            e.stopPropagation();\r\n            if (!$(e.target).is('.disabled')) {\r\n              $styledSelect.removeClass('active');\r\n              $this.val($(this).attr('rel')).trigger(\"change\");\r\n              $selectOptions.hide();\t\t\r\n            }\r\n          });\t\r\n      $(this).toggleClass('active').next('ul.select-options').toggle();\r\n      })\r\n  \r\n        $this.on(\"change\", function() {\r\n        // sync select's value with front label\r\n          var currentValue = $this.val();\r\n          $styledSelect.removeClass('selected');\r\n          for (var i = 0; i < numberOfOptions; i++) {\r\n            if ($this.children('option').eq(i).attr('value') == currentValue) {\r\n              $styledSelect.text($this.children('option').eq(i).text());\r\n              if ($this.children('option').eq(i).val()) {\r\n                $styledSelect.addClass('selected');\r\n              }\r\n            }\r\n          }\t\r\n        });\r\n  \r\n      $(document).on(\"click\", function() {\r\n        $styledSelect.removeClass('active');\r\n        $list.hide();\r\n      })\r\n    });\r\n  },\r\n\r\n  clearItems = function(id, file_only = false) {\r\n\r\n    var $currInputFile = $('.input_file[data-id=\"'+id+'\"]');\r\n    var $currInputFileText = $('.file-label[data-id=\"'+id+'\"]');\r\n    var $labelInput = $('.label-input[data-id=\"'+id+'\"]');\r\n    \r\n    $currInputFile.val('');\r\n    $currInputFileText.val('');\r\n    $labelInput.text('Upload file');\r\n    $currInputFile.parent().removeClass('selected');\r\n\r\n    if (file_only == false) { \r\n      var $uploadsItem = $('.uploads-item[data-id=\"'+id+'\"]');\r\n      var $selectedYear =  $('.select-year[data-id=\"'+id+'\"]');\r\n      var $textareaUploads =  $('.textarea-uploads[data-id=\"'+id+'\"]');\r\n\r\n      $selectedYear.prop('selectedIndex',0);\r\n      $($selectedYear.parent().find('.select-styled')).text(\"Year\");\r\n      $textareaUploads.val('');\r\n      $uploadsItem.removeClass('selected');\r\n      $uploadsItem.addClass('input');\r\n    }    \r\n  },\r\n\r\n  inputHandler = function(id, filename, showNextItem = false) {\r\n    var nextID = parseInt( parseInt(id) + 1 );\r\n    var $fileLabel = $('.file-label[data-id=\"'+id+'\"]');\r\n    var $labelInput = $('.label-input[data-id=\"'+id+'\"]');\r\n    var $uploadsItem = $('.uploads-item[data-id=\"'+id+'\"]');\r\n    var $nextItem = $('.uploads-item[data-id='+nextID+']');\r\n    $fileLabel.text(nextID+'.  '+filename);\r\n    $labelInput.text(filename);\r\n    $labelInput.parent().addClass('selected');\r\n\r\n    if ((filename !== '') && (!$uploadsItem.hasClass('edit'))) {\r\n      if (showNextItem) {\r\n        $uploadsItem.addClass('selected');\r\n        $uploadsItem.removeClass('input');  \r\n        $nextItem.removeClass('hide');\r\n      }\r\n    }\r\n\r\n    if (filename == '') {\r\n      $labelInput.text('Upload file');\r\n      $labelInput.parent().removeClass('selected');\r\n    }\r\n  },\r\n\r\n  onChangeEvents = function(){\r\n    var self = this;\r\n    this.$input.on(\"change, keyup, input\", function(e){\r\n      if (this.name == self.fieldName) {\r\n        self.name = this.value \r\n      } else if (this.name == self.fieldEmail) {\r\n        self.email = this.value;\r\n      } else if (this.name == self.fieldPhone) {\r\n        self.phone = this.value;\r\n      }\r\n    });\r\n  },\r\n\r\n  getFilename = function(id){\r\n    var $obj = $('.input_file[data-id=\"'+id+'\"]');\r\n    console.log($obj.files);\r\n    if ($obj.length > 0) {\r\n      var tmpName = $obj.val().split('\\\\').pop();\r\n      var size = '';//$obj.files.size;\r\n      return tmpName + size;\r\n    } else {\r\n      return \"\";\r\n    }\r\n  },\r\n\r\n  init = function(e) {\r\n    var self = this;\r\n\r\n    self.$fieldReview = self.$fieldHidden.after($htmlContainer).next();\r\n    self.onChangeEvents();\r\n    self.comboStyled();\r\n\r\n    $(document).on('gform_post_render', function (event, form_id, current_page) {\r\n      self.onChangeEvents();\r\n      // fill for review section\r\n      var $rev = $('body').find('#field_1_12').after($htmlContainer).next();\r\n      var visits = '';\r\n      self.zooMemory = $('body').find('textarea[id=\"input_1_6\"]').val();\r\n      if (self.name) {\r\n        self.visit = $('body').find('input[id=\"input_1_13\"]').val();\r\n        self.visitTime = $('body').find('select[id=\"input_1_15\"]').find(\":selected\").text();\r\n        self.conn = ''; \r\n        $('body').find('.gfield_checkbox[id=\"input_1_5\"]').children().each(function(){\r\n          var val = $(this).find('input:checked').val();\r\n          if (val) {\r\n            self.conn += val + ',';\r\n          }\r\n        }); \r\n\r\n        if ( (self.conn != '') || (self.visit != '') || (self.visitTime != '')) {\r\n          visits = '<span class=\"button-label\"> ('+self.conn+' '+self.visit+' '+self.visitTime+')</span>';\r\n        } \r\n        $rev.append('<div class=\"form-input-text\">'+ self.name + visits+'</div>');\r\n      }\r\n      $rev.append('<p>'+self.email + ', ' + self.phone + '</p>');      \r\n      $rev.append('<p class=\"zoo-memory\"><i>'+self.zooMemory+'</i></p>');   \r\n      if (self.$htmlHasInputedFile != null) {\r\n        $rev.after().append(self.$htmlHasInputedFile[0]);\r\n      }       \r\n\r\n       // uploads handle\r\n      if (self.$htmlHasInputedFile == null) {\r\n        var $uploads = $('body').find('#field_1_20').after($htmlFileUpload).next();\r\n        var $html = self.templateUpload();\r\n        $uploads.append($html); \r\n        self.comboStyled();\r\n      } else {\r\n        var $uploads = $('body').find('#field_uploads');\r\n        self.comboStyled(true);\r\n      }\r\n\r\n      $uploads.children().each(function(){  \r\n        var id = this.getAttribute('data-id');\r\n        var filename = self.getFilename(id);\r\n\r\n        if (filename != '') {\r\n          self.inputHandler(id, filename, true);\r\n        }\r\n      });\r\n           \r\n      $uploads.find('[href=\"#show-next-item\"]').on(\"click\", function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var id = $(this).parents()[0].getAttribute('data-id');\r\n        var filename = self.getFilename(id);\r\n\r\n        if (filename == '') {\r\n          alert('Cannot add new item, fill current item first.');\r\n        } else {\r\n          self.inputHandler(id, filename, true);\r\n        }\r\n      });\r\n      \r\n      $uploads.find('.clear-img').on(\"click\", function(e) {\r\n        var id = this.getAttribute('data-id');\r\n        $(this).parent().removeClass('selected');\r\n        self.clearItems(id, true);\r\n        self.inputHandler(id, '');\r\n      }); \r\n\r\n      $uploads.find('[href=\"#actions-button\"]').on(\"click\", function(e) {\r\n        e.preventDefault();\r\n        var id = this.getAttribute('data-id');\r\n        var $uploadsItem = $('.uploads-item[data-id=\"'+id+'\"]');\r\n        var filename = self.getFilename(id);\r\n        \r\n        if (filename == '') {\r\n          alert('File must be selected.')\r\n        } else {\r\n          $uploadsItem.toggleClass('edit');\r\n          $uploadsItem.toggleClass('selected');\r\n\r\n          if ($uploadsItem.hasClass('edit')) {\r\n            $(this).text('SAVE');\r\n          } else {\r\n            $(this).text('EDIT');\r\n          }\r\n        }\r\n        \r\n      });\r\n\r\n      $uploads.find('[href=\"#delete-item\"]').on(\"click\", function(e) {\r\n        e.preventDefault();\r\n        var id = this.getAttribute('data-id');\r\n        if (confirm('Delete Item ?')) {\r\n          self.clearItems(id);         \r\n          $('.uploads-item').removeClass('input');\r\n          $('.uploads-item').not('.selected, [data-id=\"'+id+'\"]').addClass('hide');\r\n          $('.uploads-item[data-id=\"'+id+'\"]').addClass('input');\r\n        }                       \r\n      });\r\n        \r\n      $uploads.find(' input.input_file ').on(\"change\", function() {\r\n        var id = this.getAttribute('data-id');\r\n        var filename = self.getFilename(id);\r\n        self.inputHandler(id, filename);\r\n      });\r\n\r\n      $uploads.children().each(function(){\r\n        var id = this.getAttribute('data-id');\r\n        var $input = $(this).children().children().children()[0];\r\n        var $yearInput = $(this).children().children().children()[1];\r\n\r\n        $($input).on(\"change\", function(e){\r\n          var $previewContainer = $('<div id=\"image-prev-'+id+'\" class=\"gf-image-upload-preview\"><div class=\"remove-button\" title=\"Remove image\"></div><img/></div>').appendTo($rev);\r\n          var reader = new FileReader();\r\n          reader.onload = function (e) {\r\n            $previewContainer.find('img').attr('src', e.target.result);\r\n          }\r\n          reader.readAsDataURL( $input.files[0] );\t\r\n          self.$htmlHasInputedFile = $uploads;\r\n        });\r\n\r\n        $($yearInput).on(\"change\", function(e){\r\n          self.$htmlHasInputedFile = $uploads;\r\n        })\r\n      });\r\n    \r\n\r\n      if (self.$htmlHasInputedFile != null) {\r\n        var $inputedData = $('body').find('#field_1_20').after(self.$htmlHasInputedFile).next();\r\n\r\n        $inputedData.children().each(function(e){\r\n          var id = this.getAttribute('data-id');\r\n          var count = parseInt( parseInt(id) + 1);\r\n          var $currInputFile = $('.input_file[data-id=\"'+id+'\"]');\r\n          //var filename = $currInputFile.val().split('\\\\').pop();\r\n          var filename = self.getFilename(id);\r\n\r\n          if (filename) {\r\n            var caption = $('.textarea-uploads[data-id=\"'+id+'\"]').val();\r\n            var $html = \r\n            '<li class=\"item-review\" data-id=\"'+id+'\">'+\r\n              '<div class=\"review-container flex-container\">'+\r\n                '<p class=\"file-label button-label color-dark-green\" data-id=\"'+id+'\" >'+count+'.  '+filename+'</p>'+\r\n                '<div class=\"flex-container\">'+\r\n                  '<a href=\"#review-edit-button\" class=\"button editmode\" data-id=\"'+id+'\" >EDIT</a>'+\r\n                  '<a href=\"#delete-item\" class=\"button button-close\" data-id=\"'+id+'\" ></a>'+\r\n                '</div>'+\r\n              '</div>'+\r\n              '<div class=\"image-container flex-container\">'+\r\n                '<img src=\"\" class=\"img-review\" data-id=\"'+id+'\" >'+\r\n                '<p class=\"\" >'+caption+'</p>'+\r\n              '</div>'+\r\n            '</li>';\r\n\r\n            var $obj = $rev.append($html);            \r\n            var reader = new FileReader();\r\n            reader.onload = function (e) {\r\n              $obj.find('.img-review[data-id=\"'+id+'\"]').attr('src', e.target.result);\r\n            }\r\n            reader.readAsDataURL($currInputFile[0].files[0]);\r\n          }\r\n        });\r\n\r\n        $rev.find('[href=\"#review-edit-button\"]').on(\"click\", function(e){\r\n          e.preventDefault();\r\n          e.stopPropagation();              \r\n          var id = this.getAttribute('data-id');\r\n\r\n          $(\"#gform_target_page_number_1\").val(\"3\");  \r\n          $(\"#gform_1\").trigger(\"submit\",[true]);\r\n\r\n          $($('.btn-act[data-id=\"'+id+'\"]')[0]).click();\r\n        });\r\n\r\n        $rev.find('[href=\"#delete-item\"]').on(\"click\", function(e){\r\n          e.preventDefault();\r\n          var id = this.getAttribute('data-id');\r\n          \r\n          if (confirm('Delete Item ?')) {\r\n            self.clearItems(id);\r\n            $('.item-review[data-id=\"'+id+'\"]').remove();\r\n          }\r\n        });            \r\n      }\r\n\r\n    });\r\n\r\n    \r\n  }\r\n}\r\n\r\njQuery(document).ready(function($) {\r\n\r\n  mainHandler.init();\r\n  gfHandler.init();\r\n\r\n  $(window).on(\"load, scroll\", function() {\r\n    if($(window).scrollTop() > 50) {\r\n        $(\"header\").addClass(\"scrolled\");\r\n        $(\".logo-white\").addClass(\"hide\");\r\n        $(\".logo-black\").removeClass(\"hide\");\r\n    } else {\r\n        $(\"header\").removeClass(\"scrolled\");\r\n        $(\".logo-black\").addClass(\"hide\");\r\n        $(\".logo-white\").removeClass(\"hide\");\r\n    }\r\n  });\r\n\r\n  $(window).on('resize, load, scroll', function() {\r\n    $('.dynamic-content-container').children('.bg-image-content').each(function() {\r\n      $content = $(this);\r\n      var specifiedId = this.getAttribute('data-specified-id');\r\n      $transPanel = $(\".half-transparent-panel[data-specified-id=\"+specifiedId+\"]\");\r\n      var contentPadTop = parseFloat($content.css('padding-top'));\r\n      var contentPadBot = parseFloat($content.css('padding-bottom'));\r\n      var contentHeight = parseFloat($content.height());\r\n      var newHeight = contentHeight + contentPadTop + contentPadBot;\r\n      $transPanel.css({\r\n        'height': newHeight+\"px\"\r\n      });\r\n    })\r\n  }).trigger('resize');\r\n  \r\n\t// Adds Flex Video to YouTube and Vimeo Embeds\r\n  $('iframe[src*=\"youtube.com\"], iframe[src*=\"vimeo.com\"]').each(function() {\r\n    $(this).parent().addClass('responsive-embed widescreen')\r\n  })\r\n\r\n  // debugger\r\n  $(window).on('resize', function() {\r\n    $('.debugger .column-width').html($('.debugger .cell').eq(0).width())\r\n    $('.debugger .gutter-width').html(parseInt($('.debugger .cell').eq(0).css('margin-left')) * 2)\r\n    $('.debugger .container-padding').html(parseInt($('.debugger .grid-container').eq(0).css('padding-left')) * 2)\r\n  }).trigger('resize')\r\n\r\n  $('.debugger').on('click', function(e) {\r\n    $(this).remove()\r\n  })\r\n\r\n})\r\n"],"file":"main.min.js"}